#개요

> Introduction

블록체인(Blockchain)은 피어 노드(Peer node)들의 분산 네트워크 안에서 유지되는 변경 불가능한 거래 장부(Immutable transaction ledger)다. 각각의 노드는 합의 규약(Consensus protocol)으로 검증된 거래를 통해 장부 사본을 유지 관리한다. 이때 거래들은 블록(block)에 담기고 이 각각의 블록은 이전 블록에 해시값으로 묶인다.

최초이자 가장 널리 알려진 블록체인은 바로 암호화폐(Cryptocurrency) 비트코인(Bitcoin)이다. 그리고 많은 이들이 비트코인의 발자취를 따랐다. 한편, 대안 암호화폐 이더리움(Ethereum)은 다른 방식을 택했다. 비트코인의 요소를 여럿 택하면서도 동시에 스마트계약(Smart contract)이라는 새로운 요소를 도입해 분산화된 응용프로그램(Application)을 구동할 수 있는 플랫폼을 만든 것이다. 비트코인과 이더리움은 모두 특정한 주체의 승인(permission) 없이 사용 가능한 공용(public) 블록체인 기술로 누구에게나 열려있으며 또한 익명으로 참여할 수 있는 네트워크다.

비트코인과 이더리움이 널리 알려지면서, 이런 블록체인들의 기저에 있는 분산 원장 기술과 분산 응용프로그램 플랫폼을 도입하고자 하는 혁신적인 기업들이 늘어났다. 그러나 대부분의 기업들에서 요구하는 성능(역: 거래 속도등)은 아직 공용 블록체인 네트워크에서는 불가능한 수준이며 기업이 금융 거래를 할 때 지켜야 하는 고객정보알기(KYC)와 자금세탁방지(AML)등의 규제를 적용하기 또한 어렵다.

기업의 사용에는 다음 항목들이 필요하다.

- 참여자들의 정보가 알려지거나/알 수 있어야 함.
- 네트워크 참여에 '승인' 필요.
- 빠른 거래 처리 속도.
- 거래 확정 지연이 적어야 함.
- 거래와 거래 관련 데이터의 개인정보보호 및 비밀보장.

현재 대부분의 초기 블록체인 플랫폼은 이러한 기업의 요구조건들에 '맞추어가는' 중인데 반해 하이퍼렛져 페브릭(Hyperledger Fabric)은 처음부터 기업의 사용을 위해 '설계'되었다. 앞으로 이어질 내용은 하이퍼렛져 페브릭이 다른 블록체인 플랫폼과 어떻게 다른지와 플랫폼 설계의 바탕이 된 동기(motivation)에 대해 설명할 것이다.

## 하이퍼렛져 페브릭

> Hyperledger Fabric

하이퍼렛져 페브릭은 기업의 사용을 위해 디자인된 승인형 분산 장부 기술(DLT) 플랫폼으로, 오픈소스이며 다른 분산 장부 혹은 블록체인 기술과 차별화되는 몇가지 장점을 가지고 있다.  

먼저 하이퍼렛져는 리눅스 재단(The Linux Foundation)에 의해 만들어졌다. 리눅스 재단은 오픈 소스와 열린 지배구조(Open Governance)로 강력하고도 오래 지속되는 생태계를 만든 바 있다. 이러한 바탕에서 하이퍼렛져 페브릭 프로젝트는 초기부터 35개 이상의 조직과 200명에 가까운 개발자들이 있었고, 현재도 다양한 조직들에서 온 관리자(maintainer)들이 운영중이다.

두번째로, 하이퍼렛져 페브릭은 설정이 쉽고 강력하게 모듈화된 구조다. 이를 통해 산업의 넓은 분야 - 은행, 금융, 보험, 건강, 인적 자원, 공급 사슬, 디지털 음원시장등 - 에서 혁신과 융통성, 그리고 최적화를 추구할 수 있다.

세번째로, 하이퍼렛져는 여타의 플랫폼 한정 언어(DSL)가 아닌 범용 프로그래밍 언어 - 자바, 고, 노드등 - 로 작성된 스마트 계약을 지원하는 최초의 분산 장부 플랫폼이다. 이것은 곧 대부분의 기업이 이미 스마트계약을 작성할 역량을 갖게된다는 것을 의미한다. 다른 플랫폼처럼 새로운 언어를 배우거나 할 필요가 없다.

또한 페브릭 플랫폼은 승인형이다. 참여자가 익명이라 완전히 믿을 수 없는 다른 비승인 플랫폼과는 다르게 하이퍼렛져 플랫폼의 참여자는 서로를 알 수 있다. 이것은 곧 참여자가 서로를 100% 믿을 수 없는 환경(경쟁사라던가)에서도 네트워크가 법적 동의 내지는 분쟁을 조정할 수 있는 틀과 같은 모델 하에 구동될 수 있다는 것이다.  
 
그리고 가장 중요한 차이는 '합의 규약이 선택 가능'(Pluggable Consensus Protocols)하다는 점이다. 이러한 특성은 하이퍼렛져가 특정한 목적 혹은 신뢰 모델에 맞는 시스템을 효과적으로 구성할 수 있게 한다. 예를 들어, 하나의 기업체나 신뢰할 수 있는 권위에 의해 구동되는 시스템에서 완전한 BFT(Byzantine Fault Tolerant) 규약을 지키는 것은 불필요하다. 이런 상황에서는 CFT(Crash Fault-tolerant) 규약이 더 적절할 수 있다. 물론 다자간의 탈중앙화 사례에서는 전통적인 BFT가 필요할 것이다. 

페브릭은 스마트 계약 실행이나 채굴 과정을 위해 암호화폐 체계를 필요로 하지 않는 합의 규약을 자아낼 수(leverage) 있다. 암호화폐를 사용하지 않는 것은 몇몇 강력한 공격 요소를 줄이며, 채굴이 없다는 것은 플랫폼이 다른 분산형 시스템과 큰 가격차이 없이 도입될 수 있음을 의미한다.

이러한 설계의 차이점들은 결국 페브릭이 거래 속도, 거래 확정, 개인정보 보호 및 비밀보장에서 더 나은 성능을 갖게 하며, 이러한 일들을 구현하는 스마트 계약(페브릭에선 '체인 코드'라고 부른다) 또한 현재 수준에서 가장 괜찮은 성능을 갖게 한다.

후술할 내용은 이런 다른 점들을 보다 상세하게 서술한 것이다.

## 모듈화

> Modularity

하이퍼렛져 페브릭은 뿌리부터 모듈 구조를 갖도록 설계되었다. 합의 규약, LDAP와 OpenID Connect 같은 인증 관리 규약, 혹은 키 관리 규약이나 암호화 라이브러리등 어떤 규약이건 상관없이 기업의 목적에 맞게 사용할 수 있도록 만들어진 플랫폼이다. 

페브릭은 다음과 같은 모듈 요소들로 구성되어 있다.

- 거래에 따라 합의 블록을 만들어 피어 노드에 전파하는 관리자 모듈(Pluggable Ordering Service) 
- 네트워크 상의 객체들을 암호화된 식별정보로 분류하는 회원 관리 모듈(pluggable membership service provider)
- 관리자 모듈의 블록을 받아 다른 피어에게 전파할 수 있는 부가적인 P2P 서비스 모듈
- 외부와 독립된 작동을 위해 컨테이너 환경(Docker등)에서 실행되는 스마트 계약(체인 코드) 
    - 체인 코드는 보통의 프로그래밍 언어로 작성할 수 있지만 장부에 직접 접근할 수는 없다.
- 다양한 DBMS를 지원하는 장부 설정
- 각 어플리케이션마다 독립적으로 설정-집행할 수 있는 보증 및 검증 정책 모듈

“모든 것을 지배할 하나의 블록체인”은 없다는게 업계의 정설이다. 하지만 하이퍼렛져 페브릭은 다양한 상업적 요구에 맞추어 설정을 여러 방식으로 변경할 수 있다. 

## 승인형 vs 자유형 블록체인

> Permissioned vs Permisionless Blockchains

비승인형 블록체인은 어떤 사람도 참여할 수 있고, 모든 참여자는 익명이다. 모두가 익명인 상황에서 신뢰할 수 있는 것은 '일정 깊이 이상의 블록체인은 수정할 수 없다'뿐이다. 이런 신뢰의 부재를 완화하기 위해 비승인 블록체인들은 보통 작업증명(PoW)이라는 BFT 규약을 사용하고, 이 어마어마한 비용을 감당하기 위해 '채굴된' 암호화폐나 거래비용을 도입해 참여자에게 인센티브를 제공한다. 

반면 승인형 블록체인의 참여자들은 알려져 있고, 식별 가능하며, 대부분 검증된 주체들이다. 또한 이 참여자들은 일정 수준의 신뢰를 이끌어내는 관리 구조 하에 움직인다. 이것은 동일한 목표를 갖고 있지만 서로 완전히 신뢰할 수 없는 객체들의 상호작용을 보장하는 하나의 방법을 제공한다. 참여자들의 식별정보를 바탕으로 하기 때문에 승인형 블록체인은 좀 더 전통적인 CFT나 BFT 합의 규약(값비싼 채굴이 없는)을 사용할 수 있다.

심지어 이런 승인 시스템에서는 참여자가 의도적으로 스마트계약을 통해 악성코드를 배포하는 일이 줄어든다. 참여자는 서로를 알고 서로가 한 일도 알고 있다. 어플리케이션 거래를 등록하든, 네트워크 설정을 수정하든, 아니면 스마트 계약을 배포하든 상관없이 모든 행동은 블록체인에 기록되기 때문이다. 이로 인해 악성 사용자는 쉽게 식별될 수 있으며 해당 행동은 관리 구조에 따라 처리된다.  

## 스마트 계약

> Smart Contracts

- 추후 내용 추가 예정

## 새로운 시도

> A New Approach

- 추후 내용 추가 예정

## 개인정보보호와 비밀보장

> Privacy and Confidentiality

- 추후 내용 추가 예정

## 합의 규약 선택 가능

> Pluggable Consensus

- 추후 내용 추가 예정

## 성능과 확장성

> Performance and Scalability

- 추후 내용 추가 예정

## 결론

> Conclusion

- 추후 내용 추가 예정

## 감사의 말

> Acknowldgement

- https://hyperledger-fabric.readthedocs.io/en/latest/whatis.html
- 추후 내용 추가 예정
